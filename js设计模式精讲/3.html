<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS设计模式精讲----发布订阅</title>
</head>
<body>
<script>
    const adadisPub = {
        // adadis售货员的小本本
        adadisBook: [],
        // 买家在小本本是登记号码 this.adadisBook.push(phoneNumber)
        subShoe(arg) {
            this.adadisBook.push(arg)
        },
        //售货员打电话通知小本本上的买家 for (const customer of this.adadisBook) { customer.update() } }
        notify() {
            console.log(this.adadisBook);
            for (const customer of this.adadisBook) {
                customer.update()
            }/**/
        }
    }

    const customer1 = {
        phoneNumber: '152xxx',
        update() {
            console.log(this.phoneNumber + ': 去商场看看')
        }
    }
    const customer2 = {
        phoneNumber: '138yyy',
        update() {
            console.log(this.phoneNumber + ': 给表弟买双')
        }
    }
    adadisPub.subShoe(customer1);// 在小本本上留下号码
    adadisPub.subShoe(customer2);
    adadisPub.notify(); // 打电话通知买家到货了 // 打电话通知买家到货了


</script>
</body>
</html>